{% extends "base.html" %}
{% load static %}

{% block title %}{{ post.title }} — Блог SkyStore{% endblock %}

{% block content %}
<div class="container mt-5 mb-5">
    <!-- Заголовок и дата -->
    <div class="text-center mb-4">
        <h1 class="fw-bold">{{ post.title }}</h1>
        <p class="text-muted">
            <i class="fa-regular fa-calendar"></i> {{ post.created_at|date:"d.m.Y H:i" }}
            &nbsp;•&nbsp;
            <i class="fa-solid fa-eye"></i> {{ post.views }} просмотров
        </p>
    </div>

    <!-- Превью -->
    {% if post.preview %}
        <div class="text-center mb-4">
            <img src="{{ post.preview.url }}" alt="{{ post.title }}"
                 class="img-fluid rounded shadow-sm" style="max-height: 450px; object-fit: cover;">
        </div>
    {% endif %}

    <!-- Основной контент -->
    <div class="card shadow-sm p-4 mb-5">
        <div class="card-body">
            <p class="lead" style="white-space: pre-line;">{{ post.content }}</p>
        </div>
    </div>

    <!-- Навигация -->
    <div class="d-flex justify-content-between">
        <a href="{% url 'blog:post_list' %}" class="btn btn-outline-primary">
            <i class="fa-solid fa-arrow-left"></i> Назад к блогу
        </a>

        <div>
            <a href="{% url 'blog:post_edit' post.pk %}" class="btn btn-warning me-2">
                <i class="fa-solid fa-pen-to-square"></i> Редактировать
            </a>
            <a href="{% url 'blog:post_delete' post.pk %}" class="btn btn-danger">
                <i class="fa-solid fa-trash"></i> Удалить
            </a>
        </div>
    </div>
</div>
{% endblock %}